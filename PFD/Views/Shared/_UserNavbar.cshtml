    @*
        For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
    *@

@{
    var AccountString = Context.Session.GetString("AccountObject");
    var AccountObject = JsonSerializer.Deserialize<Users>(AccountString);

    var Email = Context.Session.GetString("Email");
}

    <style>
        #google_translate_element {
            position: relative;
            display: inline-block;
            background-color: #ffffff;
            padding: 10px;
      /*      border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);*/
            font-family: Arial, sans-serif;
            font-size: 14px;
        }

        .goog-logo-link {
            display: none !important;
        }



        .goog-te-gadget {
            color: none !important;
            display:flex;
            justify-content:center;
            align-items:center;
        }

        main {
            padding-top: 0px !important
        }

        iframe {
            display: none !important;
        }

        /* Optional: Style the button inside the translation element */
        .goog-te-combo {
            font-size: 14px;
        }

        .goog-logo-link {
            display: none !important;
        }

        #google_translate_element span {
            display: none !important;
        }

        .goog-te-gadget {
            color: transparent !important;
            font-size: 0px;
        
        }

        .goog-te-combo {
            border: 0px;
        }

        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
        }

        .btn-close {
            position: absolute;
            top: 0;
            right: 0;
            margin: 10px;
        }

        img {
            /* Add styles for the profile picture */
            width: 100px; /* Adjust as needed */
            height: 100px; /* Adjust as needed */
            border-radius: 50%; /* Make it round */
        }

        form {
            /* Add styles for the form if needed */
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }

        button {
            /* Add styles for the button if needed */
        }

    </style>


    <nav class="navbar1">
        <div class="navbar-container1">

            <a href="~/Main/Index" id="navbar-logo">

            </a>

            <div class="navbar-toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>

            <ul class="navbar-menu">
                <li class="navbar-button">

                    <a asp-action="PayNow" class="navbar-links">
                        @*<div class="alien-img"></div>*@
                        <p>PayNow</p>
                    </a>
                </li>

                <li class="navbar-button">

                    <a href="" class="navbar-links">
                        @*<div class="store-img"></div>*@
                        <p>Savings Goals</p>
                    </a>
                </li>

                <li class="navbar-button">
                    <a onclick="togglePopup('popupNavContainer')" class="navbar-links3" style="border:0px; font-size:15px; background:none;">
                        <i class="fa fa-search" aria-hidden="true"></i>
                    </a>
                </li>

                <li id="google_translate_element"></li>

                <li class="navbar-button" id="acc-dropdown">

                    <a href="" class="navbar-links" style="pointer-events:none;" >
                        <div class="login-img"></div>
                        <p>@AccountObject.Name</p>
                    </a>
                    <ul>
                        <li>
                            <a class="navbar-links2" id="logout-btn" style="padding-top:0" onclick="showPopup()">UPDATE EMAIL</a>
                        </li>
                        <li>
                            <a asp-controller="Home" asp-action="LogOut"  class="navbar-links2" id="logout-btn" style="padding-top:0">LOG OUT</a>

                        </li>
                    </ul>
                </li>

     
               @*<li class="navbar-button" id="acc-dropdown">

                </li>*@




            </ul>

        </div>
    </nav>

    <!-- Profile Picture and Update Email Form inside Popup -->
    <div id="popup" class="popup">
        <button type="button" class="btn-close" aria-label="Close" onclick="hidePopup()"></button>
        <img src="/Images/profile-pic.jpg" alt="Profile Picture">

        <!-- Update Email Form -->
        <form asp-action="UpdateEmail" asp-controller="Main">
            <label for="currentEmail">Current Email:</label>
            <input type="email" id="currentEmail" name="currentEmail" value="@Email" readonly>

            <label for="newEmail">New Email:</label>
            <input type="email" id="newEmail" name="newEmail" required>

            <label for="confirmEmail">Confirm Email:</label>
            <input type="email" id="confirmEmail" name="confirmEmail" required>

            <button type="submit">Update Email</button>
        </form>
    </div>



    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({ pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.HORIZONTAL }, 'google_translate_element');
        }
    </script>

    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script>
        // JavaScript functions to show and hide the pop-up
        function showPopup() {
            document.getElementById('popup').style.display = 'block';
        }

        function hidePopup() {
            document.getElementById('popup').style.display = 'none';
        }
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const newEmailInput = document.getElementById("newEmail");
            const confirmEmailInput = document.getElementById("confirmEmail");

            function validateEmails() {
                const newEmailValue = newEmailInput.value.trim();
                const confirmEmailValue = confirmEmailInput.value.trim();

                if (newEmailValue === confirmEmailValue) {
                    // Emails match, no error
                    confirmEmailInput.setCustomValidity("");
                } else {
                    // Emails don't match, set custom error message
                    confirmEmailInput.setCustomValidity("Emails do not match");
                }
            }

            // Add event listeners to both input fields
            newEmailInput.addEventListener("input", validateEmails);
            confirmEmailInput.addEventListener("input", validateEmails);
        });
    </script>