<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - OCBC Ignite</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />

    <link rel="stylesheet" href="/css/site.css" asp-append-version="true" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="/css/footer.css" asp-append-version="true" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,600&family=Poppins:wght@200;300;400;500;600&family=Ubuntu:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/3.0.0-beta.3/aos.css" integrity="sha512-hoGlO+71fSG6lgS60I4bKvsFVB+bAnrVFDYlwSXoyNLppDcoupwJB7KbWq/63iACKn3gcgK9jMXd+T+YDeVrGQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Poppins" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/3.0.0-beta.3/aos.js" integrity="sha512-g+Et9AnYbWPRrEbyTHTiCJNNdvCKudRpd8a5fmPMuJhNj5gzVjMSw6qGoNU09EJdv0DlSeiSFAwmtcAhT1QvsA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="/css/navbar.css" asp-append-version="true" />

    @await RenderSectionAsync("head", required: false)

    @await RenderSectionAsync("style", required: false)


        
<style>
        .searchBar {
            width: 100%;
            display: flex;
            justify-content: center;
            flex-direction: row;
            align-items: center;
            margin-right: auto;
        }

        #searchQueryInput2 {
            width: 65%;
            height: 7vh;
            background: #f5f5f5;
            outline: none;
            border: none;
            border-radius: 1.625rem;
            padding: 0 3.5rem 0 1.5rem;
            font-size: 1.25rem;
        }

        #searchQuerySubmit2, #searchQuerySubmit3 {
            width: 3.5rem;
            height: 2.8rem;
            margin-left: -3.5rem;
            background: none;
            border: none;
            outline: none;
        }

            #searchQuerySubmit2:hover, #searchQuerySubmit3:hover {
                cursor: pointer;
            }

        .popupNav {
            margin: 0 20%;
            background: white;
            padding: 60px 0px;
            border-radius: 30px;
            position: fixed;
            left: 0;
            right: 0;
            top: 12%;
            z-index: 50;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition:  0.3s ease-in-out;
            transform: scale(0.8);
        }

        .popupNavText {
            text-align: center;
            margin-bottom: 30px;
            font-weight: 700;
            color: #474747;
        }

        a.popupNavResult {
            text-decoration: none;
            min-height: 12vh;
            border-radius: 1.65rem;
            padding: 1rem;
        }

            a.popupNavResult:hover {
                background-color: grey;
                color: black;
                transform: scale(1.01);
            }


        .popupNavResult {
            background-color: #f5f5f5;
            color: black;
            margin-bottom: 20px;
            transition: all 0.15s;
            width: 65%;
        }

        .closeButtton {
            text-decoration: none;
            color: #474747;
            font-size: 21px;
            position: absolute;
            top: 20px;
            right: 30px;
            -webkit-text-stroke: 2px white;
        }

            .closeButtton:hover {
                color: #474747;
            }


        a.popupNavResult:hover {
            background-color: #EDEDED;
        }

        .icon2 {
            width: 40px; /* Set the width and height to the desired value */
            height: 40px; /* Set the width and height to the desired value */
            border-radius: 50%; /* Use border-radius property to create a circular shape */
            color: #ffffff; /* Set the text color */
            text-align: center; /* Center the text inside the circular icon */
            line-height: 40px; /* Center the text vertically inside the circular icon */
            background-color: #000;
            margin-left: 18px;
            margin-right: 60px;
        }

        #popupNavContainer, #popupNavContainer2 {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.2);
            align-items: center;
            z-index: 1000;
            transition:  0.3s ease-in-out;
        }

        .fade-in {
            opacity: 1 !important;
            transform: scale(1);
        }

        #popupNavContainer.fade-in,
        .popupNav.fade-in,
        #popupNavContainer2.fade-in{
            transition:  0.3s ease-in-out;
        }

        #popupNavContainer,
        #popupNavContainer2,
        .popupNav {
            opacity: 0;
        }

        .hidden {
            display: none;
        }
</style> 
</head>
<body>
    <header>
        @*<nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
            <div class="container-fluid">
                <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index">PFD</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul class="navbar-nav flex-grow-1">
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/services">Services</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/about">About Us</a>
                        </li>

                        <a href="@Url.Action("Login", "Home")" class="btn btn-primary" style="
                            background: linear-gradient(to bottom, #ff9999, #ff6666);
                            color: #fff;
                            border: none;
                            border-radius: 15px;
                            padding: 10px 20px;
                            text-align: center;
                            text-decoration: none;
                            display: inline-block;
                            font-size: 16px;
                            transition: background 0.3s, transform 0.1s;
                            cursor: pointer;
                            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
                            outline: none;

                            ">
                            Login
                        </a>

                       
                        
                        
                    </ul>
                </div>
            </div>
        </nav>*@
        @{
            var AccountString = Context.Session.GetString("AccountObject");
            if (AccountString == null){
                                               @await Html.PartialAsync("_Nav.cshtml")

            }
            else{
                                                @await Html.PartialAsync("_UserNavbar.cshtml")

            }
        }
    </header>


    <main role="main" style="padding-top: 70px;">

        @RenderBody()
        <!-- Your main content goes here -->

        @if (AccountString != null){

            <div id="popupNavContainer">
                <div class="popupNav">

                    @if (AccountString == null)
                    {
                        <a href="#" onclick="closePopup('popupNavContainer2')" class="closeButtton">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </a>
                    }
                    else
                    {
                        <a href="#" onclick="closePopup('popupNavContainer')" class="closeButtton">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </a>
                    }

                    <h3 class="popupNavText">Navigator</h3>

                    <div class="searchBar" style="margin-bottom:20px;">
                        <input id="searchQueryInput2" type="text" name="searchQueryInput2" placeholder="Search" value="" />
                        <button id="searchQuerySubmit2" type="submit" name="searchQuerySubmit2">
                            <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                <path fill="#666666" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
                            </svg>
                        </button>
                    </div>

                    <a href="~/Main/Index" data-name="Homepage" class="d-flex flex-row align-items-center popupNavResult popupActivated">
                        <p class="icon2">1</p>
                        <div class="d-flex flex-column align-items-left justify-content-center">
                            <p style="margin-bottom:4px; font-weight: 600;">Homepage</p>
                        </div>

                    </a>

                    <a asp-action="PayNow" data-name="PayNow" class="d-flex flex-row align-items-center popupNavResult popupActivated">
                        <p class="icon2">2</p>
                        <div class="d-flex flex-column align-items-left justify-content-center">
                            <p style="margin-bottom:4px; font-weight: 600;">PayNow</p>
                        </div>

                    </a>

                    <a asp-action="Feedback" data-name="Feedback" class="d-flex flex-row align-items-center popupNavResult popupActivated" style="display:none!important;">
                        <p class="icon2">4</p>
                        <div class="d-flex flex-column align-items-left justify-content-center">
                            <p style="margin-bottom:4px; font-weight: 600;">Feedback</p>
                        </div>

                    </a>

                    <a href='' data-name="Savings Goals" class="d-flex flex-row align-items-center popupNavResult popupActivated" style="margin-bottom:0 !important;">
                        <p class="icon2">3</p>
                        <div class="d-flex flex-column align-items-left justify-content-center">
                            <p style="margin-bottom:4px; font-weight: 600;">Savings Goals</p>
                        </div>

                    </a>


                </div>
            </div>
        }
        else{
            <div id="popupNavContainer2">
                <div class="popupNav" style="top: 5% !important;">

                    @if (AccountString == null)
                    {
                        <a href="#" onclick="closePopup('popupNavContainer2')" class="closeButtton">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </a>
                    }
                    else
                    {
                        <a href="#" onclick="closePopup('popupNavContainer')" class="closeButtton">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </a>
                    }

                    <h3 class="popupNavText">Navigator</h3>

                    <div class="searchBar" style="margin-bottom:20px;">
                        <input id="searchQueryInput2" type="text" name="searchQueryInput2" placeholder="Search" value="" />
                        <button id="searchQuerySubmit3" type="submit" name="searchQuerySubmit3">
                            <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                                <path fill="#666666" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
                            </svg>
                        </button>
                    </div>

                    <a asp-controller="Home" asp-action="Index" data-name="Homepage" class="d-flex flex-row align-items-center popupNavResult popupActivated">
                        <p class="icon2">1</p>
                        <div class="d-flex flex-column align-items-left justify-content-center">
                            <p style="margin-bottom:4px; font-weight: 600;">Homepage</p>
                        </div>

                    </a>

                    <a asp-controller="Home" asp-action="Login" data-name="Login" class="d-flex flex-row align-items-center popupNavResult popupActivated">
                        <p class="icon2">2</p>
                        <div class="d-flex flex-column align-items-left justify-content-center">
                            <p style="margin-bottom:4px; font-weight: 600;">Login</p>
                        </div>

                    </a>

                    <a asp-controller="Home" asp-action="Login" data-name="Banking for individuals" class="d-flex flex-row align-items-center popupNavResult popupActivated">
                        <p class="icon2">3</p>
                        <div class="d-flex flex-column align-items-left justify-content-center">
                            <p style="margin-bottom:4px; font-weight: 600;">Banking for individuals</p>
                        </div>

                    </a>

                    <a asp-controller="Home" asp-action="Login" data-name="OCBC Group" class="d-flex flex-row align-items-center popupNavResult" style="margin-bottom:0 !important; display:none!important;">
                        <p class="icon2">4</p>
                        <div class="d-flex flex-column align-items-left justify-content-center">
                            <p style="margin-bottom:4px; font-weight: 600;">OCBC Group</p>
                        </div>

                    </a>


                </div>
            </div>
        }

    

        
    </main>
    
    @await Html.PartialAsync("_Footer.cshtml")

    
    <script src="https://unpkg.com/@@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
    <script src="~/lib/jquery/dist/jquery.min.js" asp-append-version="true"></script>
    <script type="text/javascript" asp-append-version="true">
        (function (d, t) {
            var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
            v.onload = function () {
                window.voiceflow.chat.load({
                    verify: { projectID: '65522d375605a20007a63f9c' },
                    url: 'https://general-runtime.voiceflow.com',
                    versionID: '655322448b57010008df7837'
                });
            }
            v.src = "https://cdn.voiceflow.com/widget/bundle.mjs"; v.type = "text/javascript"; s.parentNode.insertBefore(v, s);
        })(document, 'script');

        function togglePopup(popupId) {
            var popupContainer = document.getElementById(popupId);
            var popupNav = popupContainer.querySelector('.popupNav');
            $(".button").data("activated", "true");
            popupContainer.style.display = 'block';

            popupContainer.offsetHeight;
            popupNav.offsetHeight;

            popupContainer.classList.add('fade-in');
            popupNav.classList.add('fade-in');
        }

        function closePopup(popupId) {
            var popupContainer = document.getElementById(popupId);
            var popupNav = popupContainer.querySelector('.popupNav');
            $(".button").data("activated", "false");

            popupContainer.classList.remove('fade-in');
            popupNav.classList.remove('fade-in');

            setTimeout(() => {
                popupContainer.style.display = 'none';
            }, 300); 
        }

        $("#searchQueryInput2").on("input", (e) => {
            var options = document.getElementsByClassName("popupNavResult");
            searchcounter = 0 
            console.log(e.target.value)
            for (let i = 0; i < options.length; i++) {
                let name = (options[i].dataset.name).toLowerCase()
                if (!name.includes(e.target.value.toLowerCase())) {
                    console.log(name)
                    if (options[i].classList.contains('popupActivated')) {
                        options[i].classList.remove("popupActivated");
                    }
                    options[i].setAttribute('style', 'display:none !important');

                    console.log("Fail")
                } else {
                    if (searchcounter <= 2) {
                        options[i].setAttribute('style', 'display:flex !important');
                        options[i].classList.add("popupActivated");
                        
                    }
                    else {
                        if (options[i].classList.contains('popupActivated')) {
                            options[i].classList.remove("popupActivated");
                        }
                        options[i].setAttribute('style', 'display:none !important');


                    }
                    searchcounter += 1
                    console.log("Success")

                }
            }



        })
    </script>
    
    <script src="~/js/site.js" asp-append-version="true"></script>
     
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js" asp-append-version="true"></script>


    @await RenderSectionAsync("Scripts", required: false)

    <script asp-append-version="true">
        window.addEventListener("scroll", function () {
            var nav = document.querySelector(".navbar1");
            var shouldAddWhiteClass = window.scrollY > 0;

            nav.classList.toggle("sticky", shouldAddWhiteClass);
            //nav.classList.toggle("navbar-white", shouldAddWhiteClass);
            //nav.classList.toggle("navbar-black-text", shouldAddWhiteClass);

        });



    </script>
</body>
</html>
